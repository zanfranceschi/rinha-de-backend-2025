
 api2 Pulling 
 api1 Pulling 
 22feca96579e Already exists 
 4ed7786ba8bd Already exists 
 83a6e84a4e4a Already exists 
 cc1f6c2d7a8a Already exists 
 3fe8ccff17fa Already exists 
 d3b46e776cd6 Pulling fs layer 
 69ff684c9a0a Pulling fs layer 
 ae9c404460c0 Pulling fs layer 
 c2afeee7711f Pulling fs layer 
 af6ada8033b5 Pulling fs layer 
 c2afeee7711f Waiting 
 af6ada8033b5 Waiting 
 22feca96579e Already exists 
 4ed7786ba8bd Already exists 
 83a6e84a4e4a Already exists 
 cc1f6c2d7a8a Already exists 
 3fe8ccff17fa Already exists 
 d3b46e776cd6 Pulling fs layer 
 69ff684c9a0a Pulling fs layer 
 ae9c404460c0 Pulling fs layer 
 c2afeee7711f Pulling fs layer 
 af6ada8033b5 Pulling fs layer 
 af6ada8033b5 Waiting 
 c2afeee7711f Waiting 
 d3b46e776cd6 Downloading [>                                                  ]  2.301kB/124.9kB
 d3b46e776cd6 Downloading [>                                                  ]  2.301kB/124.9kB
 d3b46e776cd6 Downloading [==================================================>]  124.9kB/124.9kB
 d3b46e776cd6 Downloading [==================================================>]  124.9kB/124.9kB
 d3b46e776cd6 Download complete 
 d3b46e776cd6 Verifying Checksum 
 d3b46e776cd6 Download complete 
 d3b46e776cd6 Extracting [=============>                                     ]  32.77kB/124.9kB
 d3b46e776cd6 Extracting [=============>                                     ]  32.77kB/124.9kB
 d3b46e776cd6 Extracting [==================================================>]  124.9kB/124.9kB
 d3b46e776cd6 Extracting [==================================================>]  124.9kB/124.9kB
 d3b46e776cd6 Extracting [==================================================>]  124.9kB/124.9kB
 d3b46e776cd6 Extracting [==================================================>]  124.9kB/124.9kB
 ae9c404460c0 Downloading [>                                                  ]  13.11kB/1.198MB
 ae9c404460c0 Downloading [>                                                  ]  13.11kB/1.198MB
 69ff684c9a0a Downloading [>                                                  ]  458.8kB/45.27MB
 69ff684c9a0a Downloading [>                                                  ]  458.8kB/45.27MB
 ae9c404460c0 Verifying Checksum 
 ae9c404460c0 Verifying Checksum 
 ae9c404460c0 Download complete 
 ae9c404460c0 Download complete 
 d3b46e776cd6 Pull complete 
 d3b46e776cd6 Pull complete 
 69ff684c9a0a Downloading [==========>                                        ]  9.186MB/45.27MB
 69ff684c9a0a Downloading [==========>                                        ]  9.186MB/45.27MB
 69ff684c9a0a Downloading [======================>                            ]  20.22MB/45.27MB
 69ff684c9a0a Downloading [======================>                            ]  20.22MB/45.27MB
 69ff684c9a0a Downloading [===============================>                   ]  28.96MB/45.27MB
 69ff684c9a0a Downloading [===============================>                   ]  28.96MB/45.27MB
 c2afeee7711f Downloading [==================================================>]     606B/606B
 c2afeee7711f Verifying Checksum 
 c2afeee7711f Download complete 
 c2afeee7711f Downloading [==================================================>]     606B/606B
 c2afeee7711f Verifying Checksum 
 c2afeee7711f Download complete 
 69ff684c9a0a Downloading [==========================================>        ]  38.15MB/45.27MB
 69ff684c9a0a Downloading [==========================================>        ]  38.15MB/45.27MB
 69ff684c9a0a Verifying Checksum 
 69ff684c9a0a Download complete 
 69ff684c9a0a Verifying Checksum 
 69ff684c9a0a Download complete 
 af6ada8033b5 Download complete 
 af6ada8033b5 Downloading [==================================================>]     217B/217B
 af6ada8033b5 Verifying Checksum 
 af6ada8033b5 Download complete 
 69ff684c9a0a Extracting [>                                                  ]  458.8kB/45.27MB
 69ff684c9a0a Extracting [>                                                  ]  458.8kB/45.27MB
 69ff684c9a0a Extracting [===>                                               ]  2.753MB/45.27MB
 69ff684c9a0a Extracting [===>                                               ]  2.753MB/45.27MB
 69ff684c9a0a Extracting [=====>                                             ]  5.046MB/45.27MB
 69ff684c9a0a Extracting [=====>                                             ]  5.046MB/45.27MB
 69ff684c9a0a Extracting [========>                                          ]   7.34MB/45.27MB
 69ff684c9a0a Extracting [========>                                          ]   7.34MB/45.27MB
 69ff684c9a0a Extracting [===========>                                       ]  10.09MB/45.27MB
 69ff684c9a0a Extracting [===========>                                       ]  10.09MB/45.27MB
 69ff684c9a0a Extracting [=============>                                     ]  12.39MB/45.27MB
 69ff684c9a0a Extracting [=============>                                     ]  12.39MB/45.27MB
 69ff684c9a0a Extracting [====================>                              ]  18.35MB/45.27MB
 69ff684c9a0a Extracting [====================>                              ]  18.35MB/45.27MB
 69ff684c9a0a Extracting [=========================>                         ]   23.4MB/45.27MB
 69ff684c9a0a Extracting [=========================>                         ]   23.4MB/45.27MB
 69ff684c9a0a Extracting [================================>                  ]  29.36MB/45.27MB
 69ff684c9a0a Extracting [================================>                  ]  29.36MB/45.27MB
 69ff684c9a0a Extracting [=====================================>             ]  33.95MB/45.27MB
 69ff684c9a0a Extracting [=====================================>             ]  33.95MB/45.27MB
 69ff684c9a0a Extracting [===============================================>   ]  43.12MB/45.27MB
 69ff684c9a0a Extracting [===============================================>   ]  43.12MB/45.27MB
 69ff684c9a0a Extracting [==================================================>]  45.27MB/45.27MB
 69ff684c9a0a Extracting [==================================================>]  45.27MB/45.27MB
 69ff684c9a0a Pull complete 
 69ff684c9a0a Pull complete 
 ae9c404460c0 Extracting [=>                                                 ]  32.77kB/1.198MB
 ae9c404460c0 Extracting [=>                                                 ]  32.77kB/1.198MB
 ae9c404460c0 Extracting [==================================================>]  1.198MB/1.198MB
 ae9c404460c0 Extracting [==================================================>]  1.198MB/1.198MB
 ae9c404460c0 Extracting [==================================================>]  1.198MB/1.198MB
 ae9c404460c0 Extracting [==================================================>]  1.198MB/1.198MB
 ae9c404460c0 Pull complete 
 ae9c404460c0 Pull complete 
 c2afeee7711f Extracting [==================================================>]     606B/606B
 c2afeee7711f Extracting [==================================================>]     606B/606B
 c2afeee7711f Extracting [==================================================>]     606B/606B
 c2afeee7711f Extracting [==================================================>]     606B/606B
 c2afeee7711f Pull complete 
 c2afeee7711f Pull complete 
 af6ada8033b5 Extracting [==================================================>]     217B/217B
 af6ada8033b5 Extracting [==================================================>]     217B/217B
 af6ada8033b5 Extracting [==================================================>]     217B/217B
 af6ada8033b5 Extracting [==================================================>]     217B/217B
 af6ada8033b5 Pull complete 
 af6ada8033b5 Pull complete 
 api2 Pulled 
 api1 Pulled 
 Network jjeanjacques10_backend  Creating
 Network jjeanjacques10_backend  Created
 Container redis-rinha  Creating
 Container redis-rinha  Created
 Container api2  Creating
 Container api1  Creating
 Container api2  Created
 Container api1  Created
 Container jjeanjacques10-nginx-1  Creating
 Container jjeanjacques10-nginx-1  Created
Attaching to api1, api2, nginx-1, redis-rinha
redis-rinha  | 1:C 30 Jul 2025 02:44:08.102 # WARNING Memory overcommit must be enabled! Without it, a background save or replication may fail under low memory condition. Being disabled, it can also cause failures without low memory condition, see https://github.com/jemalloc/jemalloc/issues/1328. To fix this issue add 'vm.overcommit_memory = 1' to /etc/sysctl.conf and then reboot or run the command 'sysctl vm.overcommit_memory=1' for this to take effect.
redis-rinha  | 1:C 30 Jul 2025 02:44:08.102 * oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo
redis-rinha  | 1:C 30 Jul 2025 02:44:08.102 * Redis version=7.2.10, bits=64, commit=00000000, modified=0, pid=1, just started
redis-rinha  | 1:C 30 Jul 2025 02:44:08.102 * Configuration loaded
redis-rinha  | 1:M 30 Jul 2025 02:44:08.102 * monotonic clock: POSIX clock_gettime
redis-rinha  | 1:M 30 Jul 2025 02:44:08.103 * Running mode=standalone, port=6379.
redis-rinha  | 1:M 30 Jul 2025 02:44:08.103 * Server initialized
redis-rinha  | 1:M 30 Jul 2025 02:44:08.103 * Ready to accept connections tcp
nginx-1      | /docker-entrypoint.sh: /docker-entrypoint.d/ is not empty, will attempt to perform configuration
nginx-1      | /docker-entrypoint.sh: Looking for shell scripts in /docker-entrypoint.d/
nginx-1      | /docker-entrypoint.sh: Launching /docker-entrypoint.d/10-listen-on-ipv6-by-default.sh
nginx-1      | 10-listen-on-ipv6-by-default.sh: info: Getting the checksum of /etc/nginx/conf.d/default.conf
nginx-1      | 10-listen-on-ipv6-by-default.sh: info: Enabled listen on IPv6 in /etc/nginx/conf.d/default.conf
nginx-1      | /docker-entrypoint.sh: Sourcing /docker-entrypoint.d/15-local-resolvers.envsh
nginx-1      | /docker-entrypoint.sh: Launching /docker-entrypoint.d/20-envsubst-on-templates.sh
nginx-1      | /docker-entrypoint.sh: Launching /docker-entrypoint.d/30-tune-worker-processes.sh
nginx-1      | /docker-entrypoint.sh: Configuration complete; ready for start up
nginx-1      | 172.20.0.1 - - [30/Jul/2025:02:44:10 +0000] "GET /payments-summary HTTP/1.1" 200 94 "-" "curl/7.88.1"
nginx-1      | 172.20.0.1 - - [30/Jul/2025:02:44:16 +0000] "POST /purge-payments HTTP/1.1" 404 128 "-" "Grafana k6/1.1.0"
nginx-1      | 172.20.0.1 - - [30/Jul/2025:02:44:16 +0000] "GET /payments-summary?from=2025-07-30T02:44:06.589Z&to=2025-07-30T02:44:16.489Z HTTP/1.1" 200 94 "-" "Grafana k6/1.1.0"
nginx-1      | 172.20.0.1 - - [30/Jul/2025:02:44:16 +0000] "POST /payments HTTP/1.1" 200 86 "-" "Grafana k6/1.1.0"
api1         | 2025-07-30T02:44:16.610Z ERROR 1 --- [rinhabackend-1] [atcher-worker-3] .a.o.r.PaymentProcessorService$Companion : Error calling payment processor: Type definition error: [simple type, class com.jjeanjacques.rinhabackend.adapter.output.rest.response.PaymentProcessorResponse]
api1         | 
api1         | org.springframework.core.codec.CodecException: Type definition error: [simple type, class com.jjeanjacques.rinhabackend.adapter.output.rest.response.PaymentProcessorResponse]
api1         | 	at org.springframework.http.codec.json.AbstractJackson2Decoder.processException(AbstractJackson2Decoder.java:278) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:6.2.8]
api1         | 	Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: 
api1         | Error has been observed at the following site(s):
api1         | 	*__checkpoint ⇢ Body from POST http://payment-processor-fallback:8080/payments [DefaultClientResponse]
api1         | Original Stack Trace:
api1         | 		at org.springframework.http.codec.json.AbstractJackson2Decoder.processException(AbstractJackson2Decoder.java:278) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:6.2.8]
api1         | 		at org.springframework.http.codec.json.AbstractJackson2Decoder.decode(AbstractJackson2Decoder.java:218) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:6.2.8]
api1         | 		at org.springframework.http.codec.json.AbstractJackson2Decoder.lambda$decodeToMono$2(AbstractJackson2Decoder.java:198) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:6.2.8]
api1         | 		at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:132) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onNext(FluxMapFuseable.java:299) ~[na:na]
api1         | 		at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onNext(FluxFilterFuseable.java:337) ~[na:na]
api1         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2096) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.MonoCollect$CollectSubscriber.onComplete(MonoCollect.java:145) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api1         | 		at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api1         | 		at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:413) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:455) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:509) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:821) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:115) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:289) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1357) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:868) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:799) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:501) ~[na:na]
api1         | 		at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:399) ~[na:na]
api1         | 		at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[na:na]
api1         | 		at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[na:na]
api1         | 		at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[na:na]
api1         | 		at java.base@21.0.7/java.lang.Thread.runWith(Thread.java:1596) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at java.base@21.0.7/java.lang.Thread.run(Thread.java:1583) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:902) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:878) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | Caused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `com.jjeanjacques.rinhabackend.adapter.output.rest.response.PaymentProcessorResponse`: cannot deserialize from Object value (no delegate- or property-based Creator): this appears to be a native image, in which case you may need to configure reflection for the class that is to be deserialized
api1         |  at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 1, column: 2]
api1         | 	at com.fasterxml.jackson.databind.DeserializationContext.reportBadDefinition(DeserializationContext.java:1915) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:2.19.1]
api1         | 	at com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:415) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:2.19.1]
api1         | 	at com.fasterxml.jackson.databind.DeserializationContext.handleMissingInstantiator(DeserializationContext.java:1397) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:2.19.1]
api1         | 	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.deserializeFromObjectUsingNonDefault(BeanDeserializerBase.java:1511) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:2.19.1]
api1         | 	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:340) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:2.19.1]
api1         | 	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:2.19.1]
api1         | 	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:2.19.1]
api1         | 	at com.fasterxml.jackson.databind.ObjectReader._bindAndClose(ObjectReader.java:2130) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:2.19.1]
api1         | 	at com.fasterxml.jackson.databind.ObjectReader.readValue(ObjectReader.java:1500) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:2.19.1]
api1         | 	at org.springframework.http.codec.json.AbstractJackson2Decoder.decode(AbstractJackson2Decoder.java:213) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:6.2.8]
api1         | 	at org.springframework.http.codec.json.AbstractJackson2Decoder.lambda$decodeToMono$2(AbstractJackson2Decoder.java:198) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:6.2.8]
api1         | 	at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:132) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107) ~[na:na]
api1         | 	at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onNext(FluxMapFuseable.java:299) ~[na:na]
api1         | 	at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onNext(FluxFilterFuseable.java:337) ~[na:na]
api1         | 	at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2096) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 	at reactor.core.publisher.MonoCollect$CollectSubscriber.onComplete(MonoCollect.java:145) ~[na:na]
api1         | 	at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api1         | 	at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260) ~[na:na]
api1         | 	at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api1         | 	at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:413) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 	at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:455) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 	at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:509) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 	at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:821) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 	at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:115) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:289) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1357) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:868) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 	at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:799) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 	at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:501) ~[na:na]
api1         | 	at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:399) ~[na:na]
api1         | 	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[na:na]
api1         | 	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[na:na]
api1         | 	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[na:na]
api1         | 	at java.base@21.0.7/java.lang.Thread.runWith(Thread.java:1596) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 	at java.base@21.0.7/java.lang.Thread.run(Thread.java:1583) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 	at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:902) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 	at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:878) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 
nginx-1      | 172.20.0.1 - - [30/Jul/2025:02:44:16 +0000] "POST /payments HTTP/1.1" 200 86 "-" "Grafana k6/1.1.0"
api1         | 2025-07-30T02:44:16.718Z ERROR 1 --- [rinhabackend-1] [atcher-worker-3] .a.o.r.PaymentProcessorService$Companion : WebClientResponseException calling payment processor: 422 Unprocessable Entity from POST http://payment-processor-fallback:8080/payments
api1         | 
api1         | org.springframework.web.reactive.function.client.WebClientResponseException$UnprocessableEntity: 422 Unprocessable Entity from POST http://payment-processor-fallback:8080/payments
api1         | 	at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api1         | 	Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: 
api1         | Error has been observed at the following site(s):
api1         | 	*__checkpoint ⇢ 422 UNPROCESSABLE_ENTITY from POST http://payment-processor-fallback:8080/payments [DefaultWebClient]
api1         | Original Stack Trace:
api1         | 		at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106) ~[na:na]
api1         | 		at reactor.core.publisher.FluxOnErrorReturn$ReturnSubscriber.onNext(FluxOnErrorReturn.java:162) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onNext(FluxDefaultIfEmpty.java:122) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129) ~[na:na]
api1         | 		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onNext(FluxMapFuseable.java:299) ~[na:na]
api1         | 		at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onNext(FluxFilterFuseable.java:337) ~[na:na]
api1         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2096) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.MonoCollect$CollectSubscriber.onComplete(MonoCollect.java:145) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api1         | 		at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api1         | 		at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:413) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:455) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:509) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:821) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:115) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:289) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1357) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:868) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:799) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:501) ~[na:na]
api1         | 		at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:399) ~[na:na]
api1         | 		at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[na:na]
api1         | 		at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[na:na]
api1         | 		at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[na:na]
api1         | 		at java.base@21.0.7/java.lang.Thread.runWith(Thread.java:1596) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at java.base@21.0.7/java.lang.Thread.run(Thread.java:1583) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:902) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:878) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 
api1         | 2025-07-30T02:44:16.718Z ERROR 1 --- [rinhabackend-1] [atcher-worker-3] .a.o.r.PaymentProcessorService$Companion : Failed to process payment with correlation ID: 0f310c16-52b2-4024-bb61-a5121004c8e2
api1         | 
api1         | org.springframework.web.reactive.function.client.WebClientResponseException$UnprocessableEntity: 422 Unprocessable Entity from POST http://payment-processor-fallback:8080/payments
api1         | 	at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api1         | 	Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: 
api1         | Error has been observed at the following site(s):
api1         | 	*__checkpoint ⇢ 422 UNPROCESSABLE_ENTITY from POST http://payment-processor-fallback:8080/payments [DefaultWebClient]
api1         | Original Stack Trace:
api1         | 		at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106) ~[na:na]
api1         | 		at reactor.core.publisher.FluxOnErrorReturn$ReturnSubscriber.onNext(FluxOnErrorReturn.java:162) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onNext(FluxDefaultIfEmpty.java:122) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129) ~[na:na]
api1         | 		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onNext(FluxMapFuseable.java:299) ~[na:na]
api1         | 		at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onNext(FluxFilterFuseable.java:337) ~[na:na]
api1         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2096) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.MonoCollect$CollectSubscriber.onComplete(MonoCollect.java:145) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api1         | 		at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api1         | 		at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:413) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:455) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:509) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:821) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:115) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:289) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1357) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:868) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:799) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:501) ~[na:na]
api1         | 		at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:399) ~[na:na]
api1         | 		at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[na:na]
api1         | 		at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[na:na]
api1         | 		at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[na:na]
api1         | 		at java.base@21.0.7/java.lang.Thread.runWith(Thread.java:1596) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at java.base@21.0.7/java.lang.Thread.run(Thread.java:1583) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:902) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:878) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 
api1         | 2025-07-30T02:44:16.718Z ERROR 1 --- [rinhabackend-1] [atcher-worker-3] c.j.r.d.s.PaymentService$Companion       : Payment processor failed for correlation ID: 0f310c16-52b2-4024-bb61-a5121004c8e2, falling back to fallback processor.
api1         | 2025-07-30T02:44:16.722Z ERROR 1 --- [rinhabackend-1] [atcher-worker-4] .a.o.r.PaymentProcessorService$Companion : WebClientResponseException calling payment processor: 422 Unprocessable Entity from POST http://payment-processor-fallback:8080/payments
api1         | 
api1         | org.springframework.web.reactive.function.client.WebClientResponseException$UnprocessableEntity: 422 Unprocessable Entity from POST http://payment-processor-fallback:8080/payments
api1         | 	at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api1         | 	Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: 
api1         | Error has been observed at the following site(s):
api1         | 	*__checkpoint ⇢ 422 UNPROCESSABLE_ENTITY from POST http://payment-processor-fallback:8080/payments [DefaultWebClient]
api1         | Original Stack Trace:
api1         | 		at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106) ~[na:na]
api1         | 		at reactor.core.publisher.FluxOnErrorReturn$ReturnSubscriber.onNext(FluxOnErrorReturn.java:162) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onNext(FluxDefaultIfEmpty.java:122) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129) ~[na:na]
api1         | 		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onNext(FluxMapFuseable.java:299) ~[na:na]
api1         | 		at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onNext(FluxFilterFuseable.java:337) ~[na:na]
api1         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2096) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.MonoCollect$CollectSubscriber.onComplete(MonoCollect.java:145) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api1         | 		at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api1         | 		at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:413) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:455) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:509) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:821) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:115) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:289) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1357) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:868) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:799) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:501) ~[na:na]
api1         | 		at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:399) ~[na:na]
api1         | 		at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[na:na]
api1         | 		at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[na:na]
api1         | 		at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[na:na]
api1         | 		at java.base@21.0.7/java.lang.Thread.runWith(Thread.java:1596) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at java.base@21.0.7/java.lang.Thread.run(Thread.java:1583) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:902) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:878) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 
api1         | 2025-07-30T02:44:16.722Z ERROR 1 --- [rinhabackend-1] [atcher-worker-4] .a.o.r.PaymentProcessorService$Companion : Failed to process payment with correlation ID: 0f310c16-52b2-4024-bb61-a5121004c8e2
api1         | 
api1         | org.springframework.web.reactive.function.client.WebClientResponseException$UnprocessableEntity: 422 Unprocessable Entity from POST http://payment-processor-fallback:8080/payments
api1         | 	at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api1         | 	Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: 
api1         | Error has been observed at the following site(s):
api1         | 	*__checkpoint ⇢ 422 UNPROCESSABLE_ENTITY from POST http://payment-processor-fallback:8080/payments [DefaultWebClient]
api1         | Original Stack Trace:
api1         | 		at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106) ~[na:na]
api1         | 		at reactor.core.publisher.FluxOnErrorReturn$ReturnSubscriber.onNext(FluxOnErrorReturn.java:162) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onNext(FluxDefaultIfEmpty.java:122) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129) ~[na:na]
api1         | 		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onNext(FluxMapFuseable.java:299) ~[na:na]
api1         | 		at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onNext(FluxFilterFuseable.java:337) ~[na:na]
api1         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2096) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.MonoCollect$CollectSubscriber.onComplete(MonoCollect.java:145) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api1         | 		at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api1         | 		at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:413) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:455) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:509) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:821) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:115) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:289) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1357) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:868) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:799) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:501) ~[na:na]
api1         | 		at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:399) ~[na:na]
api1         | 		at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[na:na]
api1         | 		at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[na:na]
api1         | 		at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[na:na]
api1         | 		at java.base@21.0.7/java.lang.Thread.runWith(Thread.java:1596) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at java.base@21.0.7/java.lang.Thread.run(Thread.java:1583) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:902) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:878) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 
api1         | 2025-07-30T02:44:16.723Z ERROR 1 --- [rinhabackend-1] [atcher-worker-4] c.j.r.d.s.PaymentService$Companion       : Payment processor failed for correlation ID: 0f310c16-52b2-4024-bb61-a5121004c8e2, falling back to fallback processor.
api1         | 2025-07-30T02:44:16.729Z ERROR 1 --- [rinhabackend-1] [atcher-worker-3] .a.o.r.PaymentProcessorService$Companion : WebClientResponseException calling payment processor: 422 Unprocessable Entity from POST http://payment-processor-fallback:8080/payments
api1         | 
api1         | org.springframework.web.reactive.function.client.WebClientResponseException$UnprocessableEntity: 422 Unprocessable Entity from POST http://payment-processor-fallback:8080/payments
api1         | 	at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api1         | 	Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: 
api1         | Error has been observed at the following site(s):
api1         | 	*__checkpoint ⇢ 422 UNPROCESSABLE_ENTITY from POST http://payment-processor-fallback:8080/payments [DefaultWebClient]
api1         | Original Stack Trace:
api1         | 		at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106) ~[na:na]
api1         | 		at reactor.core.publisher.FluxOnErrorReturn$ReturnSubscriber.onNext(FluxOnErrorReturn.java:162) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onNext(FluxDefaultIfEmpty.java:122) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129) ~[na:na]
api1         | 		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onNext(FluxMapFuseable.java:299) ~[na:na]
api1         | 		at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onNext(FluxFilterFuseable.java:337) ~[na:na]
api1         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2096) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.MonoCollect$CollectSubscriber.onComplete(MonoCollect.java:145) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api1         | 		at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api1         | 		at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:413) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:455) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:509) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:821) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:115) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:289) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1357) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:868) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:799) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:501) ~[na:na]
api1         | 		at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:399) ~[na:na]
api1         | 		at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[na:na]
api1         | 		at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[na:na]
api1         | 		at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[na:na]
api1         | 		at java.base@21.0.7/java.lang.Thread.runWith(Thread.java:1596) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at java.base@21.0.7/java.lang.Thread.run(Thread.java:1583) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:902) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:878) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 
api1         | 2025-07-30T02:44:16.730Z ERROR 1 --- [rinhabackend-1] [atcher-worker-3] .a.o.r.PaymentProcessorService$Companion : Failed to process payment with correlation ID: 0f310c16-52b2-4024-bb61-a5121004c8e2
api1         | 
api1         | org.springframework.web.reactive.function.client.WebClientResponseException$UnprocessableEntity: 422 Unprocessable Entity from POST http://payment-processor-fallback:8080/payments
api1         | 	at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api1         | 	Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: 
api1         | Error has been observed at the following site(s):
api1         | 	*__checkpoint ⇢ 422 UNPROCESSABLE_ENTITY from POST http://payment-processor-fallback:8080/payments [DefaultWebClient]
api1         | Original Stack Trace:
api1         | 		at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106) ~[na:na]
api1         | 		at reactor.core.publisher.FluxOnErrorReturn$ReturnSubscriber.onNext(FluxOnErrorReturn.java:162) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onNext(FluxDefaultIfEmpty.java:122) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129) ~[na:na]
api1         | 		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onNext(FluxMapFuseable.java:299) ~[na:na]
api1         | 		at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onNext(FluxFilterFuseable.java:337) ~[na:na]
api1         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2096) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.MonoCollect$CollectSubscriber.onComplete(MonoCollect.java:145) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api1         | 		at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api1         | 		at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:413) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:455) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:509) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:821) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:115) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:289) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1357) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:868) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:799) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:501) ~[na:na]
api1         | 		at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:399) ~[na:na]
api1         | 		at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[na:na]
api1         | 		at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[na:na]
api1         | 		at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[na:na]
api1         | 		at java.base@21.0.7/java.lang.Thread.runWith(Thread.java:1596) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at java.base@21.0.7/java.lang.Thread.run(Thread.java:1583) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:902) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:878) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 
api1         | 2025-07-30T02:44:16.730Z ERROR 1 --- [rinhabackend-1] [atcher-worker-3] c.j.r.d.s.PaymentService$Companion       : Payment processor failed for correlation ID: 0f310c16-52b2-4024-bb61-a5121004c8e2, falling back to fallback processor.
api1         | 2025-07-30T02:44:16.733Z ERROR 1 --- [rinhabackend-1] [atcher-worker-4] .a.o.r.PaymentProcessorService$Companion : WebClientResponseException calling payment processor: 422 Unprocessable Entity from POST http://payment-processor-fallback:8080/payments
api1         | 
api1         | org.springframework.web.reactive.function.client.WebClientResponseException$UnprocessableEntity: 422 Unprocessable Entity from POST http://payment-processor-fallback:8080/payments
api1         | 	at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api1         | 	Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: 
api1         | Error has been observed at the following site(s):
api1         | 	*__checkpoint ⇢ 422 UNPROCESSABLE_ENTITY from POST http://payment-processor-fallback:8080/payments [DefaultWebClient]
api1         | Original Stack Trace:
api1         | 		at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106) ~[na:na]
api1         | 		at reactor.core.publisher.FluxOnErrorReturn$ReturnSubscriber.onNext(FluxOnErrorReturn.java:162) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onNext(FluxDefaultIfEmpty.java:122) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129) ~[na:na]
api1         | 		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onNext(FluxMapFuseable.java:299) ~[na:na]
api1         | 		at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onNext(FluxFilterFuseable.java:337) ~[na:na]
api1         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2096) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.MonoCollect$CollectSubscriber.onComplete(MonoCollect.java:145) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api1         | 		at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api1         | 		at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:413) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:455) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:509) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:821) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:115) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:289) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1357) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:868) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:799) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:501) ~[na:na]
api1         | 		at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:399) ~[na:na]
api1         | 		at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[na:na]
api1         | 		at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[na:na]
api1         | 		at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[na:na]
api1         | 		at java.base@21.0.7/java.lang.Thread.runWith(Thread.java:1596) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at java.base@21.0.7/java.lang.Thread.run(Thread.java:1583) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:902) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:878) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 
api1         | 2025-07-30T02:44:16.734Z ERROR 1 --- [rinhabackend-1] [atcher-worker-4] .a.o.r.PaymentProcessorService$Companion : Failed to process payment with correlation ID: 0f310c16-52b2-4024-bb61-a5121004c8e2
api1         | 
api1         | org.springframework.web.reactive.function.client.WebClientResponseException$UnprocessableEntity: 422 Unprocessable Entity from POST http://payment-processor-fallback:8080/payments
api1         | 	at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api1         | 	Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: 
api1         | Error has been observed at the following site(s):
api1         | 	*__checkpoint ⇢ 422 UNPROCESSABLE_ENTITY from POST http://payment-processor-fallback:8080/payments [DefaultWebClient]
api1         | Original Stack Trace:
api1         | 		at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106) ~[na:na]
api1         | 		at reactor.core.publisher.FluxOnErrorReturn$ReturnSubscriber.onNext(FluxOnErrorReturn.java:162) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onNext(FluxDefaultIfEmpty.java:122) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129) ~[na:na]
api1         | 		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onNext(FluxMapFuseable.java:299) ~[na:na]
api1         | 		at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onNext(FluxFilterFuseable.java:337) ~[na:na]
api1         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2096) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.MonoCollect$CollectSubscriber.onComplete(MonoCollect.java:145) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api1         | 		at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api1         | 		at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:413) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:455) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:509) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:821) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:115) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:289) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1357) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:868) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:799) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:501) ~[na:na]
api1         | 		at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:399) ~[na:na]
api1         | 		at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[na:na]
api1         | 		at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[na:na]
api1         | 		at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[na:na]
api1         | 		at java.base@21.0.7/java.lang.Thread.runWith(Thread.java:1596) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at java.base@21.0.7/java.lang.Thread.run(Thread.java:1583) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:902) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:878) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 
api1         | 2025-07-30T02:44:16.734Z ERROR 1 --- [rinhabackend-1] [atcher-worker-4] c.j.r.d.s.PaymentService$Companion       : Payment processor failed for correlation ID: 0f310c16-52b2-4024-bb61-a5121004c8e2, falling back to fallback processor.
api1         | 2025-07-30T02:44:16.737Z ERROR 1 --- [rinhabackend-1] [atcher-worker-3] .a.o.r.PaymentProcessorService$Companion : WebClientResponseException calling payment processor: 422 Unprocessable Entity from POST http://payment-processor-fallback:8080/payments
api1         | 
api1         | org.springframework.web.reactive.function.client.WebClientResponseException$UnprocessableEntity: 422 Unprocessable Entity from POST http://payment-processor-fallback:8080/payments
api1         | 	at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api1         | 	Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: 
api1         | Error has been observed at the following site(s):
api1         | 	*__checkpoint ⇢ 422 UNPROCESSABLE_ENTITY from POST http://payment-processor-fallback:8080/payments [DefaultWebClient]
api1         | Original Stack Trace:
api1         | 		at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106) ~[na:na]
api1         | 		at reactor.core.publisher.FluxOnErrorReturn$ReturnSubscriber.onNext(FluxOnErrorReturn.java:162) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onNext(FluxDefaultIfEmpty.java:122) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129) ~[na:na]
api1         | 		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onNext(FluxMapFuseable.java:299) ~[na:na]
api1         | 		at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onNext(FluxFilterFuseable.java:337) ~[na:na]
api1         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2096) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.MonoCollect$CollectSubscriber.onComplete(MonoCollect.java:145) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api1         | 		at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api1         | 		at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:413) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:455) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:509) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:821) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:115) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:289) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1357) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:868) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:799) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:501) ~[na:na]
api1         | 		at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:399) ~[na:na]
api1         | 		at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[na:na]
api1         | 		at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[na:na]
api1         | 		at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[na:na]
api1         | 		at java.base@21.0.7/java.lang.Thread.runWith(Thread.java:1596) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at java.base@21.0.7/java.lang.Thread.run(Thread.java:1583) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:902) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:878) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 
api1         | 2025-07-30T02:44:16.737Z ERROR 1 --- [rinhabackend-1] [atcher-worker-3] .a.o.r.PaymentProcessorService$Companion : Failed to process payment with correlation ID: 0f310c16-52b2-4024-bb61-a5121004c8e2
api1         | 
api1         | org.springframework.web.reactive.function.client.WebClientResponseException$UnprocessableEntity: 422 Unprocessable Entity from POST http://payment-processor-fallback:8080/payments
api1         | 	at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api1         | 	Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: 
api1         | Error has been observed at the following site(s):
api1         | 	*__checkpoint ⇢ 422 UNPROCESSABLE_ENTITY from POST http://payment-processor-fallback:8080/payments [DefaultWebClient]
api1         | Original Stack Trace:
api1         | 		at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106) ~[na:na]
api1         | 		at reactor.core.publisher.FluxOnErrorReturn$ReturnSubscriber.onNext(FluxOnErrorReturn.java:162) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onNext(FluxDefaultIfEmpty.java:122) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129) ~[na:na]
api1         | 		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onNext(FluxMapFuseable.java:299) ~[na:na]
api1         | 		at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onNext(FluxFilterFuseable.java:337) ~[na:na]
api1         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2096) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.MonoCollect$CollectSubscriber.onComplete(MonoCollect.java:145) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api1         | 		at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api1         | 		at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:413) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:455) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:509) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:821) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:115) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:289) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1357) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:868) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:799) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:501) ~[na:na]
api1         | 		at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:399) ~[na:na]
api1         | 		at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[na:na]
api1         | 		at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[na:na]
api1         | 		at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[na:na]
api1         | 		at java.base@21.0.7/java.lang.Thread.runWith(Thread.java:1596) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at java.base@21.0.7/java.lang.Thread.run(Thread.java:1583) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:902) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:878) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 
api1         | 2025-07-30T02:44:16.737Z ERROR 1 --- [rinhabackend-1] [atcher-worker-3] c.j.r.d.s.PaymentService$Companion       : Payment processor failed for correlation ID: 0f310c16-52b2-4024-bb61-a5121004c8e2, falling back to fallback processor.
api1         | 2025-07-30T02:44:16.741Z ERROR 1 --- [rinhabackend-1] [atcher-worker-3] .a.o.r.PaymentProcessorService$Companion : WebClientResponseException calling payment processor: 422 Unprocessable Entity from POST http://payment-processor-fallback:8080/payments
api1         | 
api1         | org.springframework.web.reactive.function.client.WebClientResponseException$UnprocessableEntity: 422 Unprocessable Entity from POST http://payment-processor-fallback:8080/payments
api1         | 	at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api1         | 	Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: 
api1         | Error has been observed at the following site(s):
api1         | 	*__checkpoint ⇢ 422 UNPROCESSABLE_ENTITY from POST http://payment-processor-fallback:8080/payments [DefaultWebClient]
api1         | Original Stack Trace:
api1         | 		at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106) ~[na:na]
api1         | 		at reactor.core.publisher.FluxOnErrorReturn$ReturnSubscriber.onNext(FluxOnErrorReturn.java:162) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onNext(FluxDefaultIfEmpty.java:122) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129) ~[na:na]
api1         | 		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onNext(FluxMapFuseable.java:299) ~[na:na]
api1         | 		at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onNext(FluxFilterFuseable.java:337) ~[na:na]
api1         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2096) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.MonoCollect$CollectSubscriber.onComplete(MonoCollect.java:145) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api1         | 		at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api1         | 		at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:413) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:455) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:509) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:821) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:115) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:289) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1357) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:868) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:799) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:501) ~[na:na]
api1         | 		at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:399) ~[na:na]
api1         | 		at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[na:na]
api1         | 		at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[na:na]
api1         | 		at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[na:na]
api1         | 		at java.base@21.0.7/java.lang.Thread.runWith(Thread.java:1596) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at java.base@21.0.7/java.lang.Thread.run(Thread.java:1583) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:902) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:878) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 
api1         | 2025-07-30T02:44:16.741Z ERROR 1 --- [rinhabackend-1] [atcher-worker-3] .a.o.r.PaymentProcessorService$Companion : Failed to process payment with correlation ID: 0f310c16-52b2-4024-bb61-a5121004c8e2
api1         | 
api1         | org.springframework.web.reactive.function.client.WebClientResponseException$UnprocessableEntity: 422 Unprocessable Entity from POST http://payment-processor-fallback:8080/payments
api1         | 	at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api1         | 	Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: 
api1         | Error has been observed at the following site(s):
api1         | 	*__checkpoint ⇢ 422 UNPROCESSABLE_ENTITY from POST http://payment-processor-fallback:8080/payments [DefaultWebClient]
api1         | Original Stack Trace:
api1         | 		at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106) ~[na:na]
api1         | 		at reactor.core.publisher.FluxOnErrorReturn$ReturnSubscriber.onNext(FluxOnErrorReturn.java:162) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onNext(FluxDefaultIfEmpty.java:122) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129) ~[na:na]
api1         | 		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onNext(FluxMapFuseable.java:299) ~[na:na]
api1         | 		at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onNext(FluxFilterFuseable.java:337) ~[na:na]
api1         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2096) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.MonoCollect$CollectSubscriber.onComplete(MonoCollect.java:145) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api1         | 		at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api1         | 		at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:413) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:455) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:509) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:821) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:115) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:289) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1357) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:868) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:799) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:501) ~[na:na]
api1         | 		at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:399) ~[na:na]
api1         | 		at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[na:na]
api1         | 		at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[na:na]
api1         | 		at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[na:na]
api1         | 		at java.base@21.0.7/java.lang.Thread.runWith(Thread.java:1596) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at java.base@21.0.7/java.lang.Thread.run(Thread.java:1583) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:902) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:878) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 
api1         | 2025-07-30T02:44:16.741Z ERROR 1 --- [rinhabackend-1] [atcher-worker-3] c.j.r.d.s.PaymentService$Companion       : Payment processor failed for correlation ID: 0f310c16-52b2-4024-bb61-a5121004c8e2, falling back to fallback processor.
api1         | 2025-07-30T02:44:16.744Z ERROR 1 --- [rinhabackend-1] [atcher-worker-2] .a.o.r.PaymentProcessorService$Companion : WebClientResponseException calling payment processor: 422 Unprocessable Entity from POST http://payment-processor-fallback:8080/payments
api1         | 
api1         | org.springframework.web.reactive.function.client.WebClientResponseException$UnprocessableEntity: 422 Unprocessable Entity from POST http://payment-processor-fallback:8080/payments
api1         | 	at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api1         | 	Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: 
api1         | Error has been observed at the following site(s):
api1         | 	*__checkpoint ⇢ 422 UNPROCESSABLE_ENTITY from POST http://payment-processor-fallback:8080/payments [DefaultWebClient]
api1         | Original Stack Trace:
api1         | 		at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106) ~[na:na]
api1         | 		at reactor.core.publisher.FluxOnErrorReturn$ReturnSubscriber.onNext(FluxOnErrorReturn.java:162) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onNext(FluxDefaultIfEmpty.java:122) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129) ~[na:na]
api1         | 		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onNext(FluxMapFuseable.java:299) ~[na:na]
api1         | 		at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onNext(FluxFilterFuseable.java:337) ~[na:na]
api1         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2096) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.MonoCollect$CollectSubscriber.onComplete(MonoCollect.java:145) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api1         | 		at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api1         | 		at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:413) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:455) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:509) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:821) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:115) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:289) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1357) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:868) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:799) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:501) ~[na:na]
api1         | 		at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:399) ~[na:na]
api1         | 		at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[na:na]
api1         | 		at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[na:na]
api1         | 		at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[na:na]
api1         | 		at java.base@21.0.7/java.lang.Thread.runWith(Thread.java:1596) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at java.base@21.0.7/java.lang.Thread.run(Thread.java:1583) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:902) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:878) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 
api1         | 2025-07-30T02:44:16.745Z ERROR 1 --- [rinhabackend-1] [atcher-worker-2] .a.o.r.PaymentProcessorService$Companion : Failed to process payment with correlation ID: 0f310c16-52b2-4024-bb61-a5121004c8e2
api1         | 
api1         | org.springframework.web.reactive.function.client.WebClientResponseException$UnprocessableEntity: 422 Unprocessable Entity from POST http://payment-processor-fallback:8080/payments
api1         | 	at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api1         | 	Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: 
api1         | Error has been observed at the following site(s):
api1         | 	*__checkpoint ⇢ 422 UNPROCESSABLE_ENTITY from POST http://payment-processor-fallback:8080/payments [DefaultWebClient]
api1         | Original Stack Trace:
api1         | 		at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106) ~[na:na]
api1         | 		at reactor.core.publisher.FluxOnErrorReturn$ReturnSubscriber.onNext(FluxOnErrorReturn.java:162) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onNext(FluxDefaultIfEmpty.java:122) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129) ~[na:na]
api1         | 		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onNext(FluxMapFuseable.java:299) ~[na:na]
api1         | 		at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onNext(FluxFilterFuseable.java:337) ~[na:na]
api1         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2096) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
log truncated at line 1000
